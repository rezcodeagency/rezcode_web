---
/**
 * TECH STACK - FARELL RHEZKY ALVIANTO
 * Style: Ultra-Minimalist & Ultra-Compact
 * No Gradients, No Shadows, Just Clean Motion
 */
import techStackData from "../../data/techstack.json";
const allSkills = techStackData.flatMap(category => category.items);
---

<section id="tech-stack" class="py-12 bg-[#020406] border-b border-white/[0.05] relative overflow-hidden">
  <div class="max-w-6xl mx-auto px-4 relative z-10">
    
    <div class="text-center mb-8">
      <span class="text-brand-primary font-mono text-[8px] font-bold uppercase tracking-[0.4em] mb-1 block">
        Capabilities
      </span>
      <h2 class="text-2xl md:text-4xl font-extrabold text-white tracking-tighter">
        Core <span class="text-white/20 italic font-medium">Stack.</span>
      </h2>
    </div>

    <div class="relative overflow-hidden group">
      <div class="flex gap-3 animate-marquee whitespace-nowrap py-2">
        {/* Render data 2-3 kali untuk infinite loop yang smooth */}
        {[...allSkills, ...allSkills, ...allSkills].map((tech) => (
          <div class="flex-shrink-0 flex items-center gap-2 px-3 py-2 rounded-lg bg-white/[0.02] border border-white/[0.05] hover:border-brand-primary/30 transition-colors">
            <img 
              src={tech.icon} 
              alt={tech.name}
              class="w-5 h-5 object-contain grayscale opacity-40 group-hover:opacity-100 transition-opacity"
              loading="lazy"
            />
            <span class="text-[9px] font-bold text-white/30 uppercase tracking-tight">
              {tech.name}
            </span>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  /* Gerakan Marquee yang Lebih Cepat & Ringan */
  @keyframes marquee {
    0% { transform: translateX(0); }
    100% { transform: translateX(-33.33%); }
  }

  .animate-marquee {
    display: flex;
    width: max-content;
    animation: marquee 25s linear infinite;
  }

  /* Hilangkan animasi jika user prefer reduce motion */
  @media (prefers-reduced-motion: reduce) {
    .animate-marquee {
      animation: none;
      flex-wrap: wrap;
      justify-content: center;
    }
  }

  section {
    max-width: 100vw;
    overflow: hidden;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
</style>