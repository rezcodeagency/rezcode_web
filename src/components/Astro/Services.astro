---
/**
 * SERVICES COMPONENT - FARELL RHEZKY ALVIANTO
 * Style: Unified Clean Business
 * Mobile: Integrated Accordion | Desktop: Seamless Grid
 */
import { Code2, Layout, BarChart3, ArrowRight, Plus, Minus } from "lucide-react";

const services = [
  {
    title: "Digital Design",
    icon: Layout,
    description: "Creating professional, user-centric interfaces that align with your brand's corporate identity.",
    items: ["UI/UX Design", "Corporate Branding", "Mobile Interfaces"],
  },
  {
    title: "Development",
    icon: Code2,
    description: "Engineering secure, high-performance web applications built on scalable infrastructure.",
    items: ["Web Solutions", "API Systems", "Performance Tuning"],
  },
  {
    title: "Digital Strategy",
    icon: BarChart3,
    description: "Data-driven strategies designed to optimize your online presence and business growth.",
    items: ["SEO Audits", "Growth Analytics", "Market Analysis"],
  }
];
---

<section id="services" class="py-16 md:py-24 bg-[#020406] border-y border-white/[0.05]">
  <div class="max-w-5xl mx-auto px-6">
    
    <div class="mb-12 md:mb-20">
      <span class="text-brand-primary font-mono text-[10px] font-bold uppercase tracking-[0.4em] mb-3 block">
        Our Expertise
      </span>
      <h2 class="text-3xl md:text-5xl font-extrabold text-white tracking-tighter leading-tight">
        What We Provide <br class="hidden md:block" />         
      </h2>
    </div>

    <div class="md:hidden space-y-3">
      {services.map((service) => (
        <div class="service-accordion border border-white/5 rounded-xl bg-white/[0.02] overflow-hidden">
          <button class="w-full p-6 flex items-center justify-between text-left group transition-colors hover:bg-white/[0.02]">
            <div class="flex items-center gap-4">
              <div class="text-brand-primary">
                <service.icon size={20} />
              </div>
              <h3 class="text-base font-bold text-white tracking-tight">{service.title}</h3>
            </div>
            <Plus size={16} className="text-white/20 group-aria-expanded:hidden" />
            <Minus size={16} className="text-brand-primary hidden group-aria-expanded:block" />
          </button>
          
          <div class="content max-h-0 overflow-hidden transition-all duration-300 ease-in-out opacity-0">
            <div class="px-6 pb-6 pl-[60px]">
              <p class="text-xs text-slate-400 leading-relaxed mb-5">
                {service.description}
              </p>
              <ul class="space-y-2">
                {service.items.map(item => (
                  <li class="flex items-center gap-2 text-[9px] font-bold text-white/30 uppercase tracking-widest">
                    <div class="w-1 h-1 rounded-full bg-brand-primary/40"></div>
                    {item}
                  </li>
                ))}
              </ul>
            </div>
          </div>
        </div>
      ))}
    </div>

    <div class="hidden md:grid grid-cols-3 gap-6">
      {services.map((service, index) => (
        <div 
          class="group p-8 rounded-2xl bg-white/[0.01] border border-white/[0.05] hover:border-brand-primary/30 hover:bg-white/[0.02] transition-all duration-500 flex flex-col h-full"
          data-aos="fade-up"
          data-aos-delay={index * 50}
        >
          <div class="mb-6 w-10 h-10 flex items-center justify-center text-brand-primary bg-brand-primary/5 rounded-lg border border-brand-primary/10 group-hover:bg-brand-primary group-hover:text-black transition-all">
            <service.icon size={20} strokeWidth={2} />
          </div>

          <h3 class="text-xl font-bold text-white mb-3 tracking-tight group-hover:text-brand-primary transition-colors">
            {service.title}
          </h3>
          
          <p class="text-xs text-slate-400 leading-relaxed mb-6">
            {service.description}
          </p>

          <ul class="space-y-2.5 mb-8">
            {service.items.map((item) => (
              <li class="flex items-center gap-2 text-[9px] font-bold text-white/20 tracking-widest uppercase group-hover:text-white/40 transition-colors">
                <span class="w-1 h-[1px] bg-brand-primary opacity-50"></span>
                {item}
              </li>
            ))}
          </ul>

          <div class="mt-auto">
            <a href="#contact" class="inline-flex items-center gap-2 text-[10px] font-bold text-brand-primary uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0">
              Get Started <ArrowRight size={12} />
            </a>
          </div>
        </div>
      ))}
    </div>

    <div class="mt-16 text-center">
      <a 
        href="#contact" 
        class="text-[10px] font-bold uppercase tracking-[0.4em] text-white/20 hover:text-brand-primary transition-colors"
      >
        View Full Capabilities
      </a>
    </div>

  </div>
</section>

<script>
  const accordions = document.querySelectorAll('.service-accordion');
  accordions.forEach(acc => {
    const btn = acc.querySelector('button');
    const content = acc.querySelector('.content') as HTMLElement;
    btn?.addEventListener('click', () => {
      const isOpen = btn.getAttribute('aria-expanded') === 'true';
      accordions.forEach(other => {
        other.querySelector('button')?.setAttribute('aria-expanded', 'false');
        const otherContent = other.querySelector('.content') as HTMLElement;
        otherContent.style.maxHeight = '0';
        otherContent.style.opacity = '0';
      });
      if (!isOpen) {
        btn.setAttribute('aria-expanded', 'true');
        content.style.maxHeight = content.scrollHeight + "px";
        content.style.opacity = "1";
      }
    });
  });
</script>  